{"version":3,"sources":["nav.js"],"names":["nav","swapWidth","isVisible","wrapEl","allDesc","openBtn","closeBtn","vpWidth","initialize","selectNodes","addListeners","betterResize","document","querySelector","getElementsByTagName","addEventListener","toggleNav","determineEventLoc","handleKeyPresses","window","handleResize","doItViaRAF","running","requestAnimationFrame","dispatchEvent","CustomEvent","innerWidth","event","target","i","length","keyCode","classList","toggle","stopPropagation"],"mappings":"AAAA,GAAAA,MAEAC,UAAA,IACAC,WAAA,EACAC,OAAA,KACAC,QAAA,KACAC,QAAA,KACAC,SAAA,KACAC,QAAA,KAEAC,WAAA,WACAR,IAAAS,cACAT,IAAAU,eACAV,IAAAW,gBAGAF,YAAA,WACAT,IAAAK,QAAAO,SAAAC,cAAA,wBACAb,IAAAM,SAAAM,SAAAC,cAAA,yBACAb,IAAAG,OAAAS,SAAAC,cAAA,wBACAb,IAAAI,QAAAJ,IAAAG,OAAAW,qBAAA,MAGAJ,aAAA,WACAV,IAAAK,QAAAU,iBAAA,QAAAf,IAAAgB,WAAA,GACAhB,IAAAM,SAAAS,iBAAA,QAAAf,IAAAgB,WAAA,GACAJ,SAAAG,iBAAA,WAAAf,IAAAiB,mBAAA,GACAL,SAAAG,iBAAA,QAAAf,IAAAiB,mBAAA,GACAL,SAAAG,iBAAA,QAAAf,IAAAkB,kBAAA,GACAC,OAAAJ,iBAAA,eAAAf,IAAAoB,cAAA,IAGAT,aAAA,WAEA,QAAAU,cACAC,UACAA,SAAA,EACAC,sBAAA,WACAJ,OAAAK,cAAA,GAAAC,aAAA,iBACAH,SAAA,KANA,GAAAA,UAAA,CASAH,QAAAJ,iBAAA,SAAAM,aAGAD,aAAA,WACApB,IAAAO,QAAAY,OAAAO,WACA1B,IAAAO,SAAAP,IAAAC,WAAAD,IAAAE,WACAF,IAAAgB,UAAAW,QAIAV,kBAAA,SAAAU,OACA,GAAA3B,IAAAE,WACAyB,MAAAC,SAAA5B,IAAAG,OAAA,CAGA,IAAA,GAAA0B,GAAA,EAAAA,EAAA7B,IAAAI,QAAA0B,OAAAD,IACA,GAAAF,MAAAC,SAAA5B,IAAAI,QAAAyB,GACA,MAIA7B,KAAAgB,UAAAW,SAMAT,iBAAA,SAAAS,OACA3B,IAAAE,WAAA,KAAAyB,MAAAI,SACA/B,IAAAgB,UAAAW,QAIAX,UAAA,SAAAW,OACA3B,IAAAG,OAAA6B,UAAAC,OAAA,cACAjC,IAAAE,WAAAF,IAAAE,UACAyB,MAAAO,mBAKAlC,KAAAQ","file":"global.min.js","sourcesContent":["var nav = {\n\n  swapWidth   : 600,\n  isVisible   : false,\n  wrapEl      : null,\n  allDesc     : null,\n  openBtn     : null,\n  closeBtn    : null,\n  vpWidth     : null,\n\n  initialize: function() {\n    nav.selectNodes();\n    nav.addListeners();\n    nav.betterResize();\n  },\n\n  selectNodes: function() {\n    nav.openBtn  = document.querySelector('.js-header__open-nav');\n    nav.closeBtn = document.querySelector('.js-header__close-nav');\n    nav.wrapEl   = document.querySelector('.js-header__nav-wrap');\n    nav.allDesc  = nav.wrapEl.getElementsByTagName('*');\n  },\n\n  addListeners: function() {\n    nav.openBtn.addEventListener('click', nav.toggleNav, false);\n    nav.closeBtn.addEventListener('click', nav.toggleNav, false);\n    document.addEventListener('touchend', nav.determineEventLoc, false);\n    document.addEventListener('click', nav.determineEventLoc, false);\n    document.addEventListener('keyup', nav.handleKeyPresses, false);\n    window.addEventListener('resizeViaRAF', nav.handleResize, false);\n  },\n\n  betterResize: function() {\n    var running = false;\n    function doItViaRAF() {\n      if (running) {return;}\n      running = true;\n      requestAnimationFrame(function() {\n        window.dispatchEvent(new CustomEvent('resizeViaRAF'));\n        running = false;\n      });\n    }\n    window.addEventListener('resize', doItViaRAF);\n  },\n\n  handleResize: function() {\n    nav.vpWidth = window.innerWidth;\n    if ((nav.vpWidth >= nav.swapWidth) && nav.isVisible) {\n      nav.toggleNav(event);\n    }\n  },\n\n  determineEventLoc: function(event) {\n    if (nav.isVisible) {\n      if (event.target === nav.wrapEl) {\n        return;\n      } else {\n        for (var i = 0; i < nav.allDesc.length; i++) {\n          if (event.target === nav.allDesc[i]) {\n            return;\n          }\n        }\n      }\n      nav.toggleNav(event);\n    } else {\n      return;\n    }\n  },\n\n  handleKeyPresses: function(event) {\n    if (nav.isVisible && (event.keyCode === 27)) {\n      nav.toggleNav(event);\n    }\n  },\n\n  toggleNav: function(event) {\n    nav.wrapEl.classList.toggle('is-visible');\n    nav.isVisible = !nav.isVisible;\n    event.stopPropagation();\n  }\n\n}\n\nnav.initialize();\n"],"sourceRoot":"/source/"}